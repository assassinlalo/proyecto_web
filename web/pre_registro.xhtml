<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <f:view contentType="text/html">
        <h:head>
            <title>Pre registro</title>
        </h:head>
        <h:body>
            <f:metadata>
                <f:event type="preRenderView" listener="#{pre_registro.validaPagina()}"/>
            </f:metadata>
            <ui:composition template="templates/master.xhtml">
                <ui:define name="encabezado">
                    <p:commandButton value="Cancelar" icon="fa fa-fw fa-sign-out" class="pull-right" action="#{master.cerrar_sesion()}"/>
                </ui:define>
                <ui:define name="cuerpo">
                    <center>
                        <h:form id="formPre">
                            <p:panel header="Pre registro de Cliente" style="width: 50%;">
                                <p:growl id="growlMessage" showDetail="true" sticky="false" life="2500" />
                                <h:panelGrid id="grid" columns="3" cellpadding="5">
                                    <h:outputLabel for="nombre" value="Nombre:"/>
                                    <h:inputText id="nombre" value="#{pre_registro.nombre}" required="true" label="Nombre"/>
                                    <p:message for="nombre"/>

                                    <h:outputLabel for="apePat" value="Apellido Paterno:"/>
                                    <h:inputText id="apePat" value="#{pre_registro.ap}" required="true" label="Apellido Paterno"/>
                                    <p:message for="apePat"/>

                                    <h:outputLabel for="apeMat" value="Apellido Materno:"/>
                                    <h:inputText id="apeMat" value="#{pre_registro.am}" required="true" label="Apellido Materno"/>
                                    <p:message for="apeMat"/>

                                    <h:outputLabel for="email" value="Correo Electronico: "/>
                                    <h:inputText id="email" value="#{pre_registro.correo}" required="true" label="Email"/>
                                    <p:message for="email"/>
                                    <p:commandButton id="pre_registrarse" value="Registrase" icon="ui-icon-check" validateClient="true" update="growlMessage" 
                                                     action="#{pre_registro.preRegistro()}" />
                                </h:panelGrid>
                            </p:panel>
                            <p:blockUI block="formPre" trigger="pre_registrarse">
                                Procesando <br/>
                                <p:graphicImage library="img" name="squares.gif"/>
                            </p:blockUI>
                        </h:form>
                    </center>
                </ui:define>
            </ui:composition>
        </h:body>
    </f:view>
</html>

